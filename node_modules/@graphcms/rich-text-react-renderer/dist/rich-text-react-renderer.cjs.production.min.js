"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var n=require("react"),t=e(n),r=require("@graphcms/rich-text-types"),l=e(require("escape-html"));function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function c(e,n){if(null==e)return{};var t,r,l={},i=Object.keys(e);for(r=0;r<i.length;r++)n.indexOf(t=i[r])>=0||(l[t]=e[t]);return l}function u(e){var n=e.url;return t.createElement("audio",{style:{display:"block",maxWidth:"100%",height:"auto"},src:n,controls:!0},t.createElement("p",null,"Your browser doesn't support HTML5 audio. Here is a"," ",t.createElement("a",{href:n},"link to the audio")," instead."))}function a(e){var n=e.width,r=e.height,i=e.altText,c=e.title,u=n&&n>0,a=r&&r>0;return t.createElement("img",Object.assign({loading:"lazy",src:l(e.src)},u&&{width:n},a&&{height:r},{alt:i,title:c}))}function o(e){var n=e.src,r=e.width,i=e.height,c=e.title;return t.createElement("video",{src:l(n),controls:!0,width:r||"100%",height:i||"100%",title:c},t.createElement("p",null,"Your browser doesn't support HTML5 video. Here is a"," ",t.createElement("a",{href:n},"link to the video")," instead."))}function d(e){return t.createElement(n.Fragment,null)}var s={a:function(e){var n=e.children,r=c(e,["children"]),i=r.href,u=r.rel,a=r.id,o=r.title,d=r.openInNewTab,s=r.className,m={};return u&&(m.rel=u),a&&(m.id=a),o&&(m.title=o),s&&(m.className=s),d&&(m.target="_blank"),t.createElement("a",Object.assign({href:l(i)},m),n)},class:function(e){return t.createElement("div",{className:e.className},e.children)},video:o,img:a,iframe:function(e){return t.createElement("div",{style:{position:"relative",overflow:"hidden",width:"100%",paddingTop:"56.25%"}},t.createElement("iframe",{style:{position:"absolute",top:0,bottom:0,right:0,left:0,width:"100%",height:"100%"},src:l(e.url),loading:"lazy",allow:"fullscreen",frameBorder:"0",referrerPolicy:"no-referrer"}))},blockquote:function(e){return t.createElement("blockquote",null,e.children)},ul:function(e){return t.createElement("ul",null,e.children)},ol:function(e){return t.createElement("ol",null,e.children)},li:function(e){return t.createElement("li",null,e.children)},p:function(e){return t.createElement("p",null,e.children)},h1:function(e){return t.createElement("h1",null,e.children)},h2:function(e){return t.createElement("h2",null,e.children)},h3:function(e){return t.createElement("h3",null,e.children)},h4:function(e){return t.createElement("h4",null,e.children)},h5:function(e){return t.createElement("h5",null,e.children)},h6:function(e){return t.createElement("h6",null,e.children)},table:function(e){return t.createElement("table",null,e.children)},table_head:function(e){return t.createElement("thead",null,e.children)},table_body:function(e){return t.createElement("tbody",null,e.children)},table_row:function(e){return t.createElement("tr",null,e.children)},table_cell:function(e){return t.createElement("td",null,e.children)},table_header_cell:function(e){return t.createElement("th",null,e.children)},bold:function(e){return t.createElement("b",null,e.children)},italic:function(e){return t.createElement("i",null,e.children)},underline:function(e){return t.createElement("u",null,e.children)},code:function(e){return t.createElement("code",null,e.children)},code_block:function(e){return t.createElement("pre",{style:{whiteSpace:"pre",wordWrap:"break-word",overflowX:"auto",WebkitOverflowScrolling:"touch",fontFamily:"monospace"}},e.children)},list_item_child:function(e){return t.createElement(t.Fragment,null,e.children)},Asset:{audio:function(e){return t.createElement(u,Object.assign({},e,{url:e.url}))},image:function(e){return t.createElement(a,Object.assign({},e,{src:e.url}))},video:function(e){return t.createElement(o,Object.assign({},e,{src:e.url}))},font:d,application:d,model:d,text:d},embed:{},link:{}};function m(e){var n=e.textNode,r=e.renderers,l=n.text,i=n.bold,c=n.italic,u=n.underline,a=n.code,o=e.shouldSerialize?function(e){if(e.includes("\n")){var n=e.split("\n");return n.map((function(e,r){return t.createElement(t.Fragment,{key:r},e,r===n.length-1?null:t.createElement("br",null))}))}return e}(l):l,d=null==r?void 0:r.bold,s=null==r?void 0:r.italic,m=null==r?void 0:r.underline,f=null==r?void 0:r.code;return i&&d&&(o=t.createElement(d,null,o)),c&&s&&(o=t.createElement(s,null,o)),u&&m&&(o=t.createElement(m,null,o)),a&&f&&(o=t.createElement(f,null,o)),t.createElement(t.Fragment,null,o)}function f(e){var l=e.node,c=e.parent,u=e.renderers,a=e.references;if(r.isText(l)){var o=l.text,d=c&&r.isElement(c)&&"code-block"!==c.type;return t.createElement(m,{textNode:i({},l,{text:o}),renderers:u,shouldSerialize:d})}return r.isElement(l)?t.createElement(h,{element:l,renderers:u,references:a}):t.createElement(n.Fragment,null)}function h(e){var l=e.element,u=e.renderers,a=e.references,o=l.children,d=l.type,s=c(l,["children","type"]),m=s.nodeId,f=s.nodeType;if(d in r.EmptyElementsToRemove&&r.isEmpty({children:o}))return t.createElement(n.Fragment,null);var h,p=m&&f,v=p?null==a?void 0:a.filter((function(e){return e.id===m}))[0]:null;if(p&&"Asset"!==f){var b,g,y="link"===d?null==u||null==(b=u.link)?void 0:b[f]:null==u||null==(g=u.embed)?void 0:g[f];if(void 0===y)return console.warn("[@graphcms/rich-text-react-renderer]: No renderer found for custom "+d+" nodeType "+f+"."),t.createElement(n.Fragment,null);h=y}if(p&&"Asset"===f){var w,k=null==u||null==(w=u.Asset)?void 0:w[null==v?void 0:v.mimeType];if(void 0!==k)h=k;else{var x,O=null==v?void 0:v.mimeType.split("/")[0];h=null==u||null==(x=u.Asset)?void 0:x[O]}}var T=p?h:null==u?void 0:u[r.elementTypeKeys[d]],_=i({},s,v);return T?t.createElement(T,Object.assign({},_),t.createElement(E,{content:o,renderers:u,references:a,parent:l})):t.createElement(n.Fragment,null)}function E(e){var n,r=e.references,l=e.renderers,i=e.parent,c=(n=e.content,Array.isArray(n)?n:n.children);return t.createElement(t.Fragment,null,c.map((function(e,n){return t.createElement(f,{node:e,parent:i||null,renderers:l,references:r,key:n})})))}exports.RichText=function(e){var n=e.content,r=e.renderers,l=e.references,c=i({},null==s?void 0:s.Asset,null==r?void 0:r.Asset),u=i({},s,r,{Asset:c});return t.createElement(E,{content:n,renderers:u,references:l})};
//# sourceMappingURL=rich-text-react-renderer.cjs.production.min.js.map
